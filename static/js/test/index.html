<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css" type="text/css" media="screen" />
<script type="text/javascript" src="http://code.jquery.com/qunit/git/qunit.js"></script>

<script type="text/javascript" src="../city-hero.js"></script>

<script>
$(document).ready(function () {
    var testArea = $('#test-area');
    
    module("Wizard Tips");

    test("a tip with a class matching a field will be linked to that field", function() {
        // given...
        testArea.html(
            '<input type="text" name="field1" id="field1">' +
            '<div class="wizard-tip field1-wizard-tip">Something</div>'
        );
        $('.wizard-tip').hide();
        initFieldWizardTips();
        
        // when...
        $('#field1').focus();
        
        // then...
        equals($('.wizard-tip').css('display'), 'block');
        
        // finally...
        testArea.html('');
    });

    test("a tip with classes matching several field will be linked to all of those field", function() {
        // given...
        testArea.html(
            '<input type="text" name="field1" id="field1">' +
            '<input type="text" name="field2" id="field2">' +
            '<input type="text" name="field3" id="field3">' +
            '<div class="wizard-tip field1-wizard-tip field2-wizard-tip" id="tip1">Something</div>' +
            '<div class="wizard-tip field3-wizard-tip" id="tip2">Something</div>'
        );
        $('.wizard-tip').hide();
        initFieldWizardTips();
        
        var fieldsAndTips = [{field: $('#field1'), tip: $('#tip1')}
                           , {field: $('#field2'), tip: $('#tip1')}
                           , {field: $('#field3'), tip: $('#tip2')}];
        
        for (i in fieldsAndTips) {
            // when...
            fieldsAndTips[i].field.focus();
            
            // then...
            equals(fieldsAndTips[i].tip.css('display'), 'block');
        }
        
        // finally...
        testArea.html('');
    });
});
</script>
  
</head>
<body>
  <h1 id="qunit-header">QUnit example</h1>
  <h2 id="qunit-banner"></h2>
  <div id="qunit-testrunner-toolbar"></div>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>
  <div id="qunit-fixture">test markup, will be hidden</div>
  
  <section id="test-area">
  </section>
 </body>
</html>
